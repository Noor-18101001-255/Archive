{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport uuid from 'react-native-uuid';\nimport * as ImagePicker from 'expo-image-picker';\nimport Login from \"../Components/Login\";\nimport User from \"../Models/User\";\nimport Constants from \"../Models/Constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SignUpScreen = function SignUpScreen(props) {\n  var _React$useState = React.useState(new User('', '', '', '', '', '')),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      Prodyuct = _React$useState2[0],\n      SetNewUser = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      profilePic = _React$useState4[0],\n      SetProfilePic = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      profileTitle = _React$useState6[0],\n      SetProfileTitle = _React$useState6[1];\n\n  var _ImagePicker$useCamer = ImagePicker.useCameraPermissions(),\n      _ImagePicker$useCamer2 = _slicedToArray(_ImagePicker$useCamer, 2),\n      status = _ImagePicker$useCamer2[0],\n      requestPermission = _ImagePicker$useCamer2[1];\n\n  var handleProduct = function handleProduct(name, value) {\n    SetNewUser(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var ValueChecker = function ValueChecker(val) {\n    return val.length > 0;\n  };\n\n  var SignUpUser = function SignUpUser() {\n    var user = NewUser;\n    user.id = uuid.v4();\n    user.picture = 'uuid.v4()';\n\n    if (profileTitle == null || profilePic == null) {\n      Alert.alert(\"Please Choose Profile Photo\");\n      console.log(\"Please Choose Profile Photo\");\n    } else if (ValueChecker(user.firstName) && ValueChecker(user.lastName) && ValueChecker(user.username) && ValueChecker(user.password)) {\n      var data = JSON.stringify({\n        id: user.id,\n        firstName: user.firstName,\n        lastName: user.lastName,\n        username: user.username,\n        password: user.password,\n        picture: user.picture,\n        image: {\n          title: profileTitle,\n          uri: profilePic\n        }\n      });\n      var options = {\n        method: 'POST',\n        body: data,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer e3fff09e-576b-4a08-8529-e88efd8eb5d5'\n        }\n      };\n      fetch(Constants.SignUp, options).then(function (x) {\n        return x.text();\n      }).then(function (x) {\n        var validate = require('uuid-validate');\n\n        if (validate(x)) {\n          Alert.alert('Login Successfully', 'PLease wait');\n          console.log('Logined');\n          props.navigation.navigate('Profile', {\n            UserId: x,\n            name: NewUser.username\n          });\n        } else {\n          Alert.alert('Login Failed', 'x');\n          console.log('Failes');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      Alert.alert(\"Please fill all fields\");\n      console.log(\"Please fill all fields\");\n    }\n  };\n\n  var UsernameCheck = function UsernameCheck() {\n    var data = new String(NewUser.username);\n    console.log(data);\n    var option = {\n      method: 'POST',\n      body: \"\\\"\" + NewUser.username + \"\\\"\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer e3fff09e-576b-4a08-8529-e88efd8eb5d5'\n      }\n    };\n    fetch(Constants.UsernameAvailability, option).then(function (x) {\n      return x.json();\n    }).then(function (data) {\n      if (!data) {\n        Alert.alert(\"username Already exist\");\n        console.log(\"username Already exist\");\n        SetNewUser(function (prevState) {\n          return _objectSpread(_objectSpread({}, prevState), {}, {\n            'username': ''\n          });\n        });\n      }\n    });\n  };\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!status) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              base64: true,\n              allowsEditing: true,\n              aspect: [2, 2],\n              quality: 1\n            }));\n\n          case 3:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              SetProfileTitle('wp5299018.jpg');\n              SetProfilePic(result.uri);\n            }\n\n            _context.next = 9;\n            break;\n\n          case 7:\n            console.warn(\"Give Camera Access to use this feature\");\n            ImagePicker.requestMediaLibraryPermissionsAsync(true);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(Login, {\n    Title: \"Create Product\",\n    loginUser: SignUpUser,\n    ProfilePic: profilePic,\n    navigation: props.navigation,\n    ChooseImage: function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", pickImage());\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    },\n    children: [_jsx(TextInput, {\n      placeholder: \"First Name\",\n      placeholderTextColor: \"#808e9b\",\n      style: styles.input,\n      autoCorrect: true,\n      autoCompleteType: \"name\",\n      keyboardType: \"default\",\n      textContentType: \"name\",\n      bind: NewUser.firstName,\n      onChangeText: function onChangeText(e) {\n        return handleProduct('firstName', e);\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Last Name\",\n      placeholderTextColor: \"#808e9b\",\n      style: styles.input,\n      autoCorrect: true,\n      autoCompleteType: \"name\",\n      keyboardType: \"default\",\n      textContentType: \"name\",\n      bind: NewUser.lastName,\n      onChangeText: function onChangeText(e) {\n        return handleProduct('lastName', e);\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Username\",\n      placeholderTextColor: \"#808e9b\",\n      style: styles.input,\n      autoCorrect: true,\n      autoCompleteType: \"name\",\n      keyboardType: \"default\",\n      textContentType: \"name\",\n      bind: NewUser.username,\n      value: NewUser.username,\n      onBlur: UsernameCheck.bind(_this),\n      onChangeText: function onChangeText(e) {\n        return handleProduct('username', e);\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Password\",\n      placeholderTextColor: \"#808e9b\",\n      style: styles.input,\n      secureTextEntry: true,\n      textContentType: \"password\",\n      bind: NewUser.password,\n      onChangeText: function onChangeText(e) {\n        return handleProduct('password', e);\n      }\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  input: {\n    width: '100%',\n    height: 50,\n    backgroundColor: '#333',\n    borderRadius: 6,\n    marginTop: 10,\n    paddingHorizontal: 10,\n    fontSize: 16,\n    color: '#808e9b'\n  }\n});\nexport default SignUpScreen;","map":{"version":3,"sources":["D:/FYP/FYPNativeStuff/App/Archive/Screens/CreateProduct.js"],"names":["React","uuid","ImagePicker","Login","User","Constants","SignUpScreen","props","useState","Prodyuct","SetNewUser","profilePic","SetProfilePic","profileTitle","SetProfileTitle","useCameraPermissions","status","requestPermission","handleProduct","name","value","prevState","ValueChecker","val","length","SignUpUser","user","NewUser","id","v4","picture","Alert","alert","console","log","firstName","lastName","username","password","data","JSON","stringify","image","title","uri","options","method","body","headers","fetch","SignUp","then","x","text","validate","require","navigation","navigate","UserId","catch","error","UsernameCheck","String","option","UsernameAvailability","json","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","base64","allowsEditing","aspect","quality","result","cancelled","warn","requestMediaLibraryPermissionsAsync","styles","input","e","bind","StyleSheet","create","width","height","backgroundColor","borderRadius","marginTop","paddingHorizontal","fontSize","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { View, Text, TextInput, Alert, StatusBar, TouchableOpacity, StyleSheet } from 'react-native';\r\nimport uuid from 'react-native-uuid';\r\n\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport Login from '../Components/Login';\r\nimport User from '../Models/User';\r\nimport Constants from '../Models/Constants';\r\n\r\nconst SignUpScreen = (props) => {\r\n\r\n  const [Prodyuct, SetNewUser] = React.useState(new User('', '', '', '', '', ''));\r\n  const [profilePic, SetProfilePic] = React.useState(null);\r\n  const [profileTitle, SetProfileTitle] = React.useState('');\r\n  const [status, requestPermission] = ImagePicker.useCameraPermissions();\r\n\r\n  const handleProduct = (name, value) => {\r\n\r\n    // console.log(name+\": \"+value);\r\n    SetNewUser(prevState => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n  const ValueChecker = (val) => val.length >0\r\n\r\n  const SignUpUser = () => {\r\n    let user = NewUser;\r\n    user.id = uuid.v4();\r\n    user.picture = 'uuid.v4()';\r\n    if( profileTitle==null  || profilePic==null){\r\n\r\n      Alert.alert(\"Please Choose Profile Photo\");\r\n      console.log(\"Please Choose Profile Photo\");\r\n      \r\n    }\r\n    else if (ValueChecker(user.firstName) && ValueChecker(user.lastName) &&\r\n      ValueChecker(user.username) && ValueChecker(user.password)   \r\n         ) {\r\n\r\n\r\n      let data = JSON.stringify({\r\n        id: user.id,\r\n        firstName: user.firstName,\r\n        lastName: user.lastName,\r\n        username: user.username,\r\n        password: user.password,\r\n        picture: user.picture,\r\n        image: {\r\n          title: profileTitle,\r\n          uri: profilePic,\r\n        }\r\n      });\r\n      let options = {\r\n        method: 'POST',\r\n        body: data,\r\n        headers: {\r\n          // Accept: 'application/json',\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer e3fff09e-576b-4a08-8529-e88efd8eb5d5',\r\n        },\r\n      };\r\n\r\n      fetch(Constants.SignUp, options).then(x => x.text())\r\n        .then(x =>{\r\n          var validate = require('uuid-validate');\r\n          if (validate(x)) {\r\n            Alert.alert('Login Successfully', 'PLease wait');\r\n            console.log('Logined');\r\n            props.navigation.navigate('Profile',{\r\n              UserId: x,\r\n              name: NewUser.username,\r\n            });\r\n          }\r\n          else{\r\n            Alert.alert('Login Failed', 'x');\r\n            console.log('Failes');\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error);\r\n          // throw error;\r\n        });\r\n    }\r\n     else {\r\n      Alert.alert(\"Please fill all fields\");\r\n      console.log(\"Please fill all fields\");\r\n    }\r\n\r\n\r\n  };\r\n\r\n  const UsernameCheck = () => {\r\n\r\n    var data = new String(NewUser.username);\r\n\r\n    console.log(data);\r\n    let option = {\r\n      method: 'POST',\r\n\r\n      body: `\\\"${NewUser.username}\\\"`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer e3fff09e-576b-4a08-8529-e88efd8eb5d5'\r\n      }\r\n    };\r\n    fetch(Constants.UsernameAvailability, option).then(x => x.json()).then(\r\n      (data) => {\r\n        if (!data) {\r\n          Alert.alert(\"username Already exist\");\r\n          console.log(\"username Already exist\");\r\n          SetNewUser(prevState => ({\r\n            ...prevState,\r\n            'username': ''\r\n          }));\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  const pickImage = async () => {\r\n    if (status) {\r\n      let result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        base64: true,\r\n        allowsEditing: true,\r\n        aspect: [2, 2],\r\n        quality: 1,\r\n      });\r\n\r\n      if (!result.cancelled) {\r\n        // SetProfileTitle(result.title);\r\n        SetProfileTitle('wp5299018.jpg');\r\n        SetProfilePic(result.uri);\r\n      }\r\n\r\n\r\n    }\r\n\r\n    else {\r\n      console.warn(\"Give Camera Access to use this feature\");\r\n      ImagePicker.requestMediaLibraryPermissionsAsync(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Login Title=\"Create Product\" loginUser={SignUpUser} ProfilePic={profilePic} navigation={props.navigation} ChooseImage={async () => pickImage()} >\r\n      <TextInput\r\n        placeholder=\"First Name\"\r\n        placeholderTextColor=\"#808e9b\"\r\n        style={styles.input}\r\n        autoCorrect={true}\r\n        // autoCapitalize={false}\r\n        autoCompleteType=\"name\"\r\n        keyboardType=\"default\"\r\n        textContentType=\"name\"\r\n        bind={NewUser.firstName}\r\n        onChangeText={(e) => handleProduct('firstName', e)}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Last Name\"\r\n        placeholderTextColor=\"#808e9b\"\r\n        style={styles.input}\r\n        autoCorrect={true}\r\n        // autoCapitalize={false}\r\n        autoCompleteType=\"name\"\r\n        keyboardType=\"default\"\r\n        textContentType=\"name\"\r\n        bind={NewUser.lastName}\r\n\r\n        onChangeText={(e) => handleProduct('lastName', e)}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Username\"\r\n        placeholderTextColor=\"#808e9b\"\r\n        style={styles.input}\r\n        autoCorrect={true}\r\n        // autoCapitalize={false}\r\n        autoCompleteType=\"name\"\r\n        keyboardType=\"default\"\r\n        textContentType=\"name\"\r\n        bind={NewUser.username}\r\n        value={NewUser.username}\r\n        onBlur={UsernameCheck.bind(this)}\r\n        onChangeText={(e) => handleProduct('username', e)}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Password\"\r\n        placeholderTextColor=\"#808e9b\"\r\n        style={styles.input}\r\n        secureTextEntry={true}\r\n        textContentType=\"password\"\r\n        bind={NewUser.password}\r\n        onChangeText={(e) => handleProduct('password', e,)}\r\n      />\r\n\r\n\r\n    </Login>\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n  input: {\r\n    width: '100%',\r\n    height: 50,\r\n    backgroundColor: '#333',\r\n    borderRadius: 6,\r\n    marginTop: 10,\r\n    paddingHorizontal: 10,\r\n    fontSize: 16,\r\n    color: '#808e9b',\r\n  },\r\n\r\n});\r\n\r\nexport default SignUpScreen;"]},"metadata":{},"sourceType":"module"}