{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Constants from 'expo-constants';\nimport { AntDesign as Ant, Feather as Icon, FontAwesome as FAIcon } from '@expo/vector-icons';\nimport { useFonts } from 'expo-font';\nimport MontserratRegular from \"../assets/fonts/Montserrat/Montserrat-Regular.ttf\";\nimport MontserratBold from \"../assets/fonts/Montserrat/Montserrat-Bold.ttf\";\nimport MontserratExtraBold from \"../assets/fonts/Montserrat/Montserrat-ExtraBold.ttf\";\nimport Slider from \"../Components/Slider\";\nimport Header from \"../Components/Header\";\nimport GlobalMethods from \"../Models/GlobalMethods\";\nimport AppLoading from 'expo-app-loading';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Rating = function Rating(_ref) {\n  var rating = _ref.rating,\n      maxRating = _ref.maxRating;\n  return _jsxs(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    children: [Array(rating).fill(1).map(function (el, ind) {\n      return _jsx(FAIcon, {\n        name: \"star\",\n        size: 20,\n        color: \"#2e2e2e\"\n      }, ind);\n    }), Array(maxRating - rating).fill(1).map(function (el, ind) {\n      return _jsx(FAIcon, {\n        name: \"star-o\",\n        ind: true,\n        size: 20,\n        color: \"#2e2e2e\"\n      }, ind);\n    })]\n  });\n};\n\nexport default function ProductScreen(props) {\n  var _useFonts = useFonts({\n    MontserratRegular: MontserratRegular,\n    MontserratBold: MontserratBold,\n    MontserratExtraBold: MontserratExtraBold\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      loaded = _useFonts2[0];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFavourite = _useState2[0],\n      setFavourite = _useState2[1];\n\n  var _useState3 = useState([{\n    id: 1,\n    label: 'S'\n  }, {\n    id: 2,\n    label: 'M'\n  }, {\n    id: 3,\n    label: 'L'\n  }, {\n    id: 4,\n    label: 'XL'\n  }]),\n      _useState4 = _slicedToArray(_useState3, 1),\n      size = _useState4[0];\n\n  var _useState5 = useState('M'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedSize = _useState6[0],\n      setSelectedSize = _useState6[1];\n\n  var _useState7 = useState(\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce ut ornare urna. Duis egestas ligula quam, ut tincidunt ipsum blandit at. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam vitae justo congue, tempor urna vitae, placerat elit. Nulla nec consectetur dolor, in convallis erat. Fusce hendrerit id sem tristique congue. \\n\\nVestibulum mauris sapien, vulputate in lacus in, lacinia efficitur magna. Sed id massa ut magna eleifend lacinia et id tellus. Sed dignissim mollis lacus. Etiam laoreet ex eu sem euismod congue. In maximus porttitor imperdiet. Nulla eu dolor vehicula ligula mollis tristique ut in enim. Phasellus quis tempor velit. Vivamus sit amet orci ornare, pulvinar purus et, commodo magna. Nunc eu tortor vitae leo varius vehicula quis volutpat dolor.\\n\\nDonec interdum rutrum tellus, et rhoncus risus dignissim at. Aliquam sed imperdiet tortor, non aliquam sapien. Cras quis enim a elit fringilla vehicula. Aenean pulvinar ipsum a magna feugiat, a fermentum ante pellentesque. Mauris tincidunt placerat placerat. Quisque tincidunt enim sed metus fermentum maximus. Fusce eu tempus est.\"),\n      _useState8 = _slicedToArray(_useState7, 1),\n      productDescription = _useState8[0];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      seeFullDescription = _useState10[0],\n      setSeeFullDescription = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      assetsLoaded = _useState12[0],\n      setAssetsLoaded = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      product = _useState14[0],\n      setProduct = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      productImages = _useState16[0],\n      setProductImages = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      moreProducts = _useState18[0],\n      setMoreProduct = _useState18[1];\n\n  useEffect(function () {\n    StatusBar.setBarStyle('dark-content');\n    StatusBar.setBackgroundColor('#fff');\n  }, []);\n  useEffect(function () {\n    if (typeof product.picture !== 'undefined') {\n      var a = '';\n      a = product.picture;\n      var c = a.split('=|=');\n      console.log(c);\n      console.log(typeof c);\n      if (c.length > 1) c = c.filter(function (x) {\n        return x;\n      });\n      console.log(c);\n      var b = [];\n      c.map(function (val) {\n        b = [].concat(_toConsumableArray(b), [{\n          image: val\n        }]);\n        return b;\n      });\n      setProductImages(b);\n    }\n  }, [product]);\n  useEffect(function () {\n    var data = moreProducts;\n    Object.values(data).map(function (item) {\n      var pictures = item.picture;\n      pic = pictures;\n      setMoreProduct(function (x) {\n        return [].concat(_toConsumableArray(x), [{\n          productName: item.name,\n          productPrice: item.price,\n          productImage: item.picture\n        }]);\n      });\n    });\n  }, [moreProducts]);\n\n  var fetching = function fetching() {\n    var data, MoreProductdata;\n    return _regeneratorRuntime.async(function fetching$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(props.route.params);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(GlobalMethods.fetchProductById(props.route.params.productId));\n\n          case 3:\n            data = _context.sent;\n            console.log(data);\n            setProduct(data);\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(GlobalMethods.GetRecommendedProducts(data.createrId, data.id));\n\n          case 8:\n            MoreProductdata = _context.sent;\n            console.log(MoreProductdata);\n            setMoreProduct(MoreProductdata);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var navigateBack = function navigateBack() {\n    console.log(\"Back\");\n    props.navigation.goBack();\n  };\n\n  if (!assetsLoaded || !loaded) {\n    return _jsx(AppLoading, {\n      startAsync: fetching,\n      onFinish: function onFinish() {\n        setAssetsLoaded(true);\n      },\n      onError: console.warn\n    });\n  }\n\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(Header, {\n      title: product.catagory.name,\n      GoBack: navigateBack.bind(this),\n      CanGoBack: true\n    }), _jsxs(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      children: [_jsx(Slider, {\n        data: productImages\n      }), _jsxs(View, {\n        style: styles.detailsView,\n        children: [_jsxs(View, {\n          style: styles.productTitleView,\n          children: [_jsx(Text, {\n            style: styles.productTitle,\n            children: product.name\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setFavourite(!isFavourite);\n            },\n            children: _jsx(FAIcon, {\n              name: isFavourite ? 'heart' : 'heart-o',\n              size: 22\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.productPriceView,\n          children: [_jsxs(Text, {\n            style: styles.discountedPriceText,\n            children: [\"$\", Math.round(product.price)]\n          }), _jsxs(Text, {\n            style: styles.actualPriceText,\n            children: [\"$\", Math.round(product.price + product.price * 0.3)]\n          })]\n        }), _jsx(View, {\n          style: {\n            marginTop: 10\n          },\n          children: _jsx(Rating, {\n            rating: 4,\n            maxRating: 5\n          })\n        }), _jsxs(View, {\n          style: {\n            marginTop: 20\n          },\n          children: [_jsx(Text, {\n            style: {\n              fontSize: 18,\n              fontFamily: 'MontserratBold',\n              marginBottom: 10\n            },\n            children: \"Size:\"\n          }), _jsx(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: size.map(function (s) {\n              return _jsx(TouchableOpacity, {\n                style: selectedSize === s.label ? styles.tagSelected : styles.tag,\n                onPress: function onPress() {\n                  return setSelectedSize(s.label);\n                },\n                children: _jsx(Text, {\n                  style: selectedSize === s.label ? styles.tagLabelSelected : styles.tagLabel,\n                  children: s.label\n                })\n              }, s.id);\n            })\n          })]\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: 'row',\n          paddingHorizontal: 10\n        },\n        children: [_jsx(TouchableOpacity, {\n          style: styles.buyNowButton,\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"Buy Now\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.addToCartButton,\n          children: _jsx(Text, {\n            style: [styles.buttonText, {\n              color: '#111'\n            }],\n            children: \"Add to Cart\"\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          marginTop: 10,\n          backgroundColor: '#fff'\n        },\n        children: [_jsxs(TouchableOpacity, {\n          style: styles.productDescriptionHeader,\n          onPress: function onPress() {\n            return setSeeFullDescription(function (prev) {\n              return !prev;\n            });\n          },\n          children: [_jsx(Text, {\n            style: {\n              fontFamily: 'MontserratBold',\n              fontSize: 18\n            },\n            children: \"Product Description\"\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setSeeFullDescription(function (prev) {\n                return !prev;\n              });\n            },\n            children: seeFullDescription ? _jsx(Icon, {\n              name: \"chevron-up\",\n              size: 26\n            }) : _jsx(Icon, {\n              name: \"chevron-down\",\n              size: 26\n            })\n          })]\n        }), _jsx(View, {\n          style: {\n            padding: 10\n          },\n          children: _jsx(Text, {\n            style: {\n              fontFamily: 'MontserratRegular'\n            },\n            children: seeFullDescription ? \"\" + productDescription : \"\" + productDescription.split('\\n')[0]\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          marginTop: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontFamily: 'MontserratBold',\n            fontSize: 20,\n            marginHorizontal: 10\n          },\n          children: \"More Products\"\n        }), _jsx(ScrollView, {\n          horizontal: true,\n          showsHorizontalScrollIndicator: false,\n          children: _jsx(View, {\n            style: {\n              flex: 1,\n              flexDirection: 'row',\n              paddingTop: 10\n            },\n            children: moreProducts.map(function (item, ind) {\n              return _jsxs(View, {\n                style: {\n                  width: 180,\n                  marginHorizontal: 10\n                },\n                children: [_jsx(View, {\n                  style: styles.moreProductImageView,\n                  children: _jsx(Image, {\n                    style: {\n                      flex: 1\n                    },\n                    source: {\n                      uri: item.productImage\n                    }\n                  })\n                }), _jsxs(View, {\n                  style: {\n                    marginTop: 8\n                  },\n                  children: [_jsx(Text, {\n                    style: styles.moreProductName,\n                    children: item.productName\n                  }), _jsxs(View, {\n                    style: styles.moreProductPriceView,\n                    children: [_jsxs(Text, {\n                      style: styles.moreProductPrice,\n                      children: [\"$\", item.productPrice]\n                    }), _jsxs(View, {\n                      style: {\n                        flexDirection: 'row'\n                      },\n                      children: [_jsx(Icon, {\n                        style: styles.moreProductIcon,\n                        name: \"heart\",\n                        size: 18\n                      }), _jsx(Icon, {\n                        style: styles.moreProductIcon,\n                        name: \"shopping-bag\",\n                        size: 18\n                      }), _jsx(Icon, {\n                        style: styles.moreProductIcon,\n                        name: \"share\",\n                        size: 18\n                      })]\n                    })]\n                  })]\n                }), _jsx(TouchableOpacity, {\n                  style: styles.moreProductBuyButton,\n                  children: _jsx(Text, {\n                    style: styles.moreProductBuyButtonText,\n                    children: \"Buy\"\n                  })\n                })]\n              }, ind);\n            })\n          })\n        })]\n      }), _jsx(View, {\n        style: {\n          height: 60\n        }\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  header: {\n    height: 50,\n    backgroundColor: '#fff',\n    marginTop: Constants.statusBarHeight,\n    paddingHorizontal: 10,\n    borderBottomColor: '#dfe4fe',\n    borderBottomWidth: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  headerTitle: {\n    fontSize: 18,\n    fontFamily: 'MontserratBold'\n  },\n  detailsView: {\n    paddingHorizontal: 10,\n    paddingVertical: 14\n  },\n  productTitleView: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  productTitle: {\n    fontSize: 24,\n    fontFamily: 'MontserratExtraBold'\n  },\n  productPriceView: {\n    marginTop: 10,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  discountedPriceText: {\n    fontFamily: 'MontserratBold',\n    fontSize: 20\n  },\n  actualPriceText: {\n    color: '#222',\n    marginLeft: 10,\n    textDecorationLine: 'line-through',\n    fontSize: 18,\n    fontFamily: 'MontserratRegular'\n  },\n  buyNowButton: {\n    flex: 1,\n    backgroundColor: '#111',\n    paddingVertical: 10,\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 6\n  },\n  addToCartButton: {\n    flex: 1,\n    paddingVertical: 10,\n    backgroundColor: '#fff',\n    borderRadius: 4,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: 6,\n    borderWidth: 1,\n    borderColor: '#111'\n  },\n  buttonText: {\n    fontSize: 16,\n    color: '#fff',\n    fontFamily: 'MontserratBold'\n  },\n  tag: {\n    borderRadius: 4,\n    backgroundColor: '#FFF',\n    marginRight: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 6\n  },\n  tagLabel: {\n    fontFamily: 'MontserratBold',\n    color: '#333'\n  },\n  tagSelected: {\n    backgroundColor: '#333',\n    borderRadius: 4,\n    marginRight: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 6\n  },\n  tagLabelSelected: {\n    fontFamily: 'MontserratBold',\n    color: '#FFF'\n  },\n  productDescriptionHeader: {\n    padding: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    borderBottomWidth: 1,\n    borderBottomColor: '#dfe4fe'\n  },\n  moreProductImageView: {\n    flex: 1,\n    height: 240,\n    backgroundColor: '#fff',\n    borderRadius: 4,\n    overflow: 'hidden'\n  },\n  moreProductName: {\n    fontFamily: 'MontserratBold',\n    fontSize: 16\n  },\n  moreProductPriceView: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 8\n  },\n  moreProductPrice: {\n    fontSize: 16,\n    fontFamily: 'MontserratRegular'\n  },\n  moreProductIcon: {\n    marginLeft: 10\n  },\n  moreProductBuyButton: {\n    backgroundColor: '#111',\n    marginTop: 10,\n    paddingVertical: 8,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  moreProductBuyButtonText: {\n    color: '#fff',\n    fontFamily: 'MontserratBold',\n    fontSize: 18\n  }\n});","map":{"version":3,"sources":["D:/FYP/FYPNativeStuff/App/Archive/Screens/ProductScreen.js"],"names":["React","useState","useEffect","useRef","Constants","AntDesign","Ant","Feather","Icon","FontAwesome","FAIcon","useFonts","MontserratRegular","MontserratBold","MontserratExtraBold","Slider","Header","GlobalMethods","AppLoading","Rating","rating","maxRating","flexDirection","Array","fill","map","el","ind","ProductScreen","props","loaded","isFavourite","setFavourite","id","label","size","selectedSize","setSelectedSize","productDescription","seeFullDescription","setSeeFullDescription","assetsLoaded","setAssetsLoaded","product","setProduct","productImages","setProductImages","moreProducts","setMoreProduct","StatusBar","setBarStyle","setBackgroundColor","picture","a","c","split","console","log","length","filter","x","b","val","image","data","Object","values","item","pictures","pic","productName","name","productPrice","price","productImage","fetching","route","params","fetchProductById","productId","GetRecommendedProducts","createrId","MoreProductdata","navigateBack","navigation","goBack","warn","flex","catagory","bind","styles","detailsView","productTitleView","productTitle","productPriceView","discountedPriceText","Math","round","actualPriceText","marginTop","fontSize","fontFamily","marginBottom","s","tagSelected","tag","tagLabelSelected","tagLabel","paddingHorizontal","buyNowButton","buttonText","addToCartButton","color","backgroundColor","productDescriptionHeader","prev","padding","marginHorizontal","paddingTop","width","moreProductImageView","uri","moreProductName","moreProductPriceView","moreProductPrice","moreProductIcon","moreProductBuyButton","moreProductBuyButtonText","height","StyleSheet","create","header","statusBarHeight","borderBottomColor","borderBottomWidth","alignItems","justifyContent","headerTitle","paddingVertical","marginLeft","textDecorationLine","borderRadius","marginRight","borderWidth","borderColor","overflow"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  ScrollView,\r\n  StatusBar,\r\n  TouchableOpacity,\r\n  Image,\r\n} from 'react-native';\r\n\r\nimport Constants from 'expo-constants';\r\nimport { AntDesign as Ant, Feather as Icon, FontAwesome as FAIcon } from '@expo/vector-icons';\r\n\r\nimport { useFonts } from 'expo-font';\r\nimport MontserratRegular from '../assets/fonts/Montserrat/Montserrat-Regular.ttf';\r\nimport MontserratBold from '../assets/fonts/Montserrat/Montserrat-Bold.ttf';\r\nimport MontserratExtraBold from '../assets/fonts/Montserrat/Montserrat-ExtraBold.ttf';\r\nimport Slider from '../Components/Slider';\r\nimport Header from '../Components/Header';\r\nimport GlobalMethods from '../Models/GlobalMethods';\r\nimport AppLoading from 'expo-app-loading';\r\n\r\n\r\nconst Rating = ({ rating, maxRating }) => {\r\n  return (\r\n    <View style={{ flexDirection: 'row' }}>\r\n      {Array(rating)\r\n        .fill(1)\r\n        .map((el, ind) => (\r\n          <FAIcon name='star' key={ind} size={20} color='#2e2e2e' />\r\n        ))}\r\n      {Array(maxRating - rating)\r\n        .fill(1)\r\n        .map((el, ind) => (\r\n          <FAIcon name='star-o' key={ind} ind size={20} color='#2e2e2e' />\r\n        ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default function ProductScreen(props) {\r\n  const [loaded] = useFonts({\r\n    MontserratRegular,\r\n    MontserratBold,\r\n    MontserratExtraBold,\r\n  });\r\n\r\n  const [isFavourite, setFavourite] = useState(false);\r\n  const [size] = useState([\r\n    { id: 1, label: 'S' },\r\n    { id: 2, label: 'M' },\r\n    { id: 3, label: 'L' },\r\n    { id: 4, label: 'XL' },\r\n  ]);\r\n\r\n  const [selectedSize, setSelectedSize] = useState('M');\r\n\r\n  const [productDescription] = useState(\r\n    `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce ut ornare urna. Duis egestas ligula quam, ut tincidunt ipsum blandit at. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam vitae justo congue, tempor urna vitae, placerat elit. Nulla nec consectetur dolor, in convallis erat. Fusce hendrerit id sem tristique congue. \\n\\nVestibulum mauris sapien, vulputate in lacus in, lacinia efficitur magna. Sed id massa ut magna eleifend lacinia et id tellus. Sed dignissim mollis lacus. Etiam laoreet ex eu sem euismod congue. In maximus porttitor imperdiet. Nulla eu dolor vehicula ligula mollis tristique ut in enim. Phasellus quis tempor velit. Vivamus sit amet orci ornare, pulvinar purus et, commodo magna. Nunc eu tortor vitae leo varius vehicula quis volutpat dolor.\\n\\nDonec interdum rutrum tellus, et rhoncus risus dignissim at. Aliquam sed imperdiet tortor, non aliquam sapien. Cras quis enim a elit fringilla vehicula. Aenean pulvinar ipsum a magna feugiat, a fermentum ante pellentesque. Mauris tincidunt placerat placerat. Quisque tincidunt enim sed metus fermentum maximus. Fusce eu tempus est.`\r\n  );\r\n\r\n  const [seeFullDescription, setSeeFullDescription] = useState(false);\r\n  const [assetsLoaded, setAssetsLoaded] = useState(false);\r\n  const [product, setProduct] = useState([]);\r\n  const [productImages, setProductImages] = useState([]);\r\n\r\n  const [moreProducts, setMoreProduct] = useState([]);\r\n\r\n  // productName: 'Black Printed Tshirt',\r\n  // productPrice: 19.49,\r\n  // productImage:\r\n  //   'https://images.unsplash.com/photo-1503341504253-dff4815485f1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=60',\r\n\r\n  useEffect(() => {\r\n    StatusBar.setBarStyle('dark-content');\r\n    StatusBar.setBackgroundColor('#fff');\r\n  }, []);\r\n  useEffect(() => {\r\n    if (typeof (product.picture) !== 'undefined') {\r\n      let a = '';\r\n      a = product.picture;\r\n      let c = a.split('=|=');\r\n      console.log(c);\r\n      console.log(typeof (c));\r\n      if (c.length > 1)\r\n        c = c.filter(x => x);\r\n\r\n      console.log(c);\r\n      let b = [];\r\n      c.map(val => {\r\n        b = [...b, {\r\n          image: val,\r\n        }]\r\n        return b;\r\n      });\r\n      setProductImages(b);\r\n\r\n    }\r\n  }, [product]);\r\n\r\n  useEffect(() => {\r\n    let data = moreProducts;\r\n\r\n    Object.values(data).map(item => {\r\n      let pictures = item.picture;\r\n      pic = pictures\r\n      setMoreProduct(x => [...x, {\r\n        productName: item.name,\r\n        productPrice: item.price,\r\n        productImage: item.picture\r\n      }]);\r\n    })\r\n\r\n\r\n  }, [moreProducts]);\r\n\r\n\r\n\r\n\r\n\r\n  const fetching = async () => {\r\n    console.log(props.route.params)\r\n    let data = await GlobalMethods.fetchProductById(props.route.params.productId);\r\n    console.log(data);\r\n    setProduct(data);\r\n\r\n    let MoreProductdata = await GlobalMethods.GetRecommendedProducts(data.createrId, data.id);\r\n    console.log(MoreProductdata);\r\n    setMoreProduct(MoreProductdata);\r\n\r\n\r\n  }\r\n\r\n  const navigateBack = () => {\r\n    console.log(\"Back\");\r\n    props.navigation.goBack();\r\n  }\r\n\r\n\r\n\r\n  if (!assetsLoaded || !loaded) {\r\n    return (\r\n      <AppLoading\r\n        startAsync={fetching}\r\n        onFinish={() => { setAssetsLoaded(true); }}\r\n        onError={console.warn}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1 }}>\r\n      {/* <View style={styles.header}>\r\n      <TouchableOpacity onPress={()=>props.navigation.goBack()}>\r\n        <Ant name='back' size={30} />\r\n      </TouchableOpacity>\r\n        <Text style={styles.headerTitle}>{product.name}</Text>\r\n        <Icon name='' size={26} />\r\n      </View> */}\r\n      <Header title={product.catagory.name} GoBack={navigateBack.bind(this)} CanGoBack={true} />\r\n      <ScrollView showsVerticalScrollIndicator={false}>\r\n        {/* <View>\r\n          <Image\r\n            style={{ height: 500, resizeMode: 'cover' }}\r\n            source={{\r\n              uri:\r\n                'https://images.unsplash.com/photo-1527719327859-c6ce80353573?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60',\r\n            }}\r\n          />\r\n        </View> */}\r\n        <Slider data={productImages} />\r\n        <View style={styles.detailsView}>\r\n          <View style={styles.productTitleView}>\r\n            <Text style={styles.productTitle}>{product.name}</Text>\r\n            <TouchableOpacity onPress={() => setFavourite(!isFavourite)}>\r\n              <FAIcon name={isFavourite ? 'heart' : 'heart-o'} size={22} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.productPriceView}>\r\n            <Text style={styles.discountedPriceText}>${Math.round(product.price)}</Text>\r\n            <Text style={styles.actualPriceText}>${Math.round(product.price + (product.price * 0.3))}</Text>\r\n          </View>\r\n          <View style={{ marginTop: 10 }}>\r\n            <Rating\r\n              // rating={Math.floor(Math.random() * 5) + 2} \r\n              rating={4}\r\n              maxRating={5} />\r\n          </View>\r\n          <View style={{ marginTop: 20 }}>\r\n            <Text\r\n              style={{\r\n                fontSize: 18,\r\n                fontFamily: 'MontserratBold',\r\n                marginBottom: 10,\r\n              }}\r\n            >\r\n              Size:\r\n            </Text>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              {size.map((s) => (\r\n                <TouchableOpacity\r\n                  key={s.id}\r\n                  style={\r\n                    selectedSize === s.label ? styles.tagSelected : styles.tag\r\n                  }\r\n                  onPress={() => setSelectedSize(s.label)}\r\n                >\r\n                  <Text\r\n                    style={\r\n                      selectedSize === s.label\r\n                        ? styles.tagLabelSelected\r\n                        : styles.tagLabel\r\n                    }\r\n                  >\r\n                    {s.label}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              ))}\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={{ flexDirection: 'row', paddingHorizontal: 10 }}>\r\n          <TouchableOpacity style={styles.buyNowButton}>\r\n            <Text style={styles.buttonText}>Buy Now</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.addToCartButton}>\r\n            <Text style={[styles.buttonText, { color: '#111' }]}>\r\n              Add to Cart\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n        <View style={{ marginTop: 10, backgroundColor: '#fff' }}>\r\n          <TouchableOpacity\r\n            style={styles.productDescriptionHeader}\r\n            onPress={() => setSeeFullDescription((prev) => !prev)}\r\n          >\r\n            <Text style={{ fontFamily: 'MontserratBold', fontSize: 18 }}>\r\n              Product Description\r\n            </Text>\r\n            <TouchableOpacity\r\n              onPress={() => setSeeFullDescription((prev) => !prev)}\r\n            >\r\n              {seeFullDescription ? (\r\n                <Icon name='chevron-up' size={26} />\r\n              ) : (\r\n                <Icon name='chevron-down' size={26} />\r\n              )}\r\n            </TouchableOpacity>\r\n          </TouchableOpacity>\r\n          <View style={{ padding: 10 }}>\r\n            <Text style={{ fontFamily: 'MontserratRegular' }}>\r\n              {seeFullDescription\r\n                ? `${productDescription}`\r\n                : `${productDescription.split('\\n')[0]}`}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ marginTop: 10 }}>\r\n          <Text\r\n            style={{\r\n              fontFamily: 'MontserratBold',\r\n              fontSize: 20,\r\n              marginHorizontal: 10,\r\n            }}\r\n          >\r\n            More Products\r\n          </Text>\r\n          <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n            <View style={{ flex: 1, flexDirection: 'row', paddingTop: 10 }}>\r\n              {moreProducts.map((item, ind) => (\r\n                <View key={ind} style={{ width: 180, marginHorizontal: 10 }}>\r\n                  <View style={styles.moreProductImageView}>\r\n                    <Image\r\n                      style={{ flex: 1 }}\r\n                      source={{\r\n                        uri: item.productImage,\r\n                      }}\r\n                    />\r\n                  </View>\r\n                  <View style={{ marginTop: 8 }}>\r\n                    <Text style={styles.moreProductName}>\r\n                      {item.productName}\r\n                    </Text>\r\n                    <View style={styles.moreProductPriceView}>\r\n                      <Text style={styles.moreProductPrice}>\r\n                        ${item.productPrice}\r\n                      </Text>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <Icon\r\n                          style={styles.moreProductIcon}\r\n                          name='heart'\r\n                          size={18}\r\n                        />\r\n                        <Icon\r\n                          style={styles.moreProductIcon}\r\n                          name='shopping-bag'\r\n                          size={18}\r\n                        />\r\n                        <Icon\r\n                          style={styles.moreProductIcon}\r\n                          name='share'\r\n                          size={18}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  <TouchableOpacity style={styles.moreProductBuyButton}>\r\n                    <Text style={styles.moreProductBuyButtonText}>Buy</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))}\r\n            </View>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ height: 60 }}></View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  header: {\r\n    height: 50,\r\n    backgroundColor: '#fff',\r\n    marginTop: Constants.statusBarHeight,\r\n    paddingHorizontal: 10,\r\n    borderBottomColor: '#dfe4fe',\r\n    borderBottomWidth: 1,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n  },\r\n  headerTitle: {\r\n    fontSize: 18,\r\n    fontFamily: 'MontserratBold',\r\n  },\r\n  detailsView: {\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 14,\r\n  },\r\n  productTitleView: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  productTitle: {\r\n    fontSize: 24,\r\n    fontFamily: 'MontserratExtraBold',\r\n  },\r\n  productPriceView: {\r\n    marginTop: 10,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  discountedPriceText: { fontFamily: 'MontserratBold', fontSize: 20 },\r\n  actualPriceText: {\r\n    color: '#222',\r\n    marginLeft: 10,\r\n    textDecorationLine: 'line-through',\r\n    fontSize: 18,\r\n    fontFamily: 'MontserratRegular',\r\n  },\r\n  buyNowButton: {\r\n    flex: 1,\r\n    backgroundColor: '#111',\r\n    paddingVertical: 10,\r\n    borderRadius: 4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginRight: 6,\r\n  },\r\n  addToCartButton: {\r\n    flex: 1,\r\n    paddingVertical: 10,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginLeft: 6,\r\n    borderWidth: 1,\r\n    borderColor: '#111',\r\n  },\r\n  buttonText: {\r\n    fontSize: 16,\r\n    color: '#fff',\r\n    fontFamily: 'MontserratBold',\r\n  },\r\n  tag: {\r\n    borderRadius: 4,\r\n    backgroundColor: '#FFF',\r\n    marginRight: 10,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 6,\r\n  },\r\n  tagLabel: {\r\n    fontFamily: 'MontserratBold',\r\n    color: '#333',\r\n  },\r\n  tagSelected: {\r\n    backgroundColor: '#333',\r\n    borderRadius: 4,\r\n    marginRight: 10,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 6,\r\n  },\r\n  tagLabelSelected: {\r\n    fontFamily: 'MontserratBold',\r\n    color: '#FFF',\r\n  },\r\n  productDescriptionHeader: {\r\n    padding: 10,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#dfe4fe',\r\n  },\r\n  moreProductImageView: {\r\n    flex: 1,\r\n    height: 240,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 4,\r\n    overflow: 'hidden',\r\n  },\r\n  moreProductName: {\r\n    fontFamily: 'MontserratBold',\r\n    fontSize: 16,\r\n  },\r\n  moreProductPriceView: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    marginTop: 8,\r\n  },\r\n  moreProductPrice: {\r\n    fontSize: 16,\r\n    fontFamily: 'MontserratRegular',\r\n  },\r\n  moreProductIcon: {\r\n    marginLeft: 10,\r\n  },\r\n  moreProductBuyButton: {\r\n    backgroundColor: '#111',\r\n    marginTop: 10,\r\n    paddingVertical: 8,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  moreProductBuyButtonText: {\r\n    color: '#fff',\r\n    fontFamily: 'MontserratBold',\r\n    fontSize: 18,\r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}