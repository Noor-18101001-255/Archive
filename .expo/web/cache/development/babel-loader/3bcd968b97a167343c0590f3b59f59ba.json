{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport uuid from 'react-native-uuid';\nimport SelectDropdown from 'react-native-select-dropdown';\nimport AppLoading from 'expo-app-loading';\nimport { AntDesign } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport Login from \"../Components/Login\";\nimport product from \"../Models/product\";\nimport Constants from \"../Models/Constants\";\nimport Dropdown from \"../Components/Dropdown\";\nimport GlobalMethods from \"../Models/GlobalMethods\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SignUpScreen = function SignUpScreen(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      Product = _React$useState2[0],\n      SetProduct = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      Images = _React$useState4[0],\n      SetImages = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      Catagories = _React$useState6[0],\n      setCatagories = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      loaded = _React$useState8[0],\n      setLoaded = _React$useState8[1];\n\n  var _ImagePicker$useCamer = ImagePicker.useCameraPermissions(),\n      _ImagePicker$useCamer2 = _slicedToArray(_ImagePicker$useCamer, 2),\n      status = _ImagePicker$useCamer2[0],\n      requestPermission = _ImagePicker$useCamer2[1];\n\n  var countries = [\"Egypt\", \"Canada\", \"Australia\", \"Ireland\"];\n\n  var handleProduct = function handleProduct(name, value) {\n    var Catagories = [];\n    SetProduct(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var ValueChecker = function ValueChecker(val) {\n    return val.length > 0;\n  };\n\n  var CreateProduct = function CreateProduct() {\n    var product = Product;\n    product.createrId = props.route.params['userId'];\n\n    if (Images === null) {\n      Alert.alert(\"Please Choose images \");\n      alert(\"Please Choose images \");\n    } else if (ValueChecker(product.Name) && ValueChecker(product.Price) && ValueChecker(product.catagoryId) && ValueChecker(product.Quantity)) {\n      var data = JSON.stringify({\n        id: uuid.v4(),\n        name: product.Name,\n        price: product.Price,\n        quantity: product.Quantity,\n        catagoryId: product.catagoryId,\n        createrId: product.createrId,\n        picture: 'picture',\n        images: Images\n      });\n      var options = {\n        method: 'POST',\n        body: data,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer e3fff09e-576b-4a08-8529-e88efd8eb5d5'\n        }\n      };\n      fetch(Constants.addProduct, options).then(function (x) {\n        return x.text();\n      }).then(function (x) {\n        if (x == \"Done\") {\n          Alert.alert('Created', 'Product Created');\n          props.navigation.navigate('Profile');\n        } else {\n          Alert.alert('Failed', 'Product Creation Failed');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      Alert.alert(\"Please fill all fields\");\n    }\n  };\n\n  if (!loaded) {\n    return _jsx(AppLoading, {\n      startAsync: function _callee() {\n        var data;\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(GlobalMethods.GetAllCats());\n\n              case 2:\n                data = _context.sent;\n                console.log(data);\n                setCatagories(data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      },\n      onFinish: function onFinish() {\n        return setLoaded(true);\n      },\n      onError: console.warn\n    });\n  }\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!status) {\n              _context2.next = 7;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              base64: true,\n              allowsEditing: true,\n              aspect: [2, 2],\n              quality: 1\n            }));\n\n          case 3:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              if (!Images.includes(result.uri)) {\n                SetImages(function (x) {\n                  return [].concat(_toConsumableArray(x), [{\n                    uri: result.uri,\n                    title: '.jpg'\n                  }]);\n                });\n              } else {\n                alert(\"Cant Take Same images twice\");\n              }\n            }\n\n            _context2.next = 9;\n            break;\n\n          case 7:\n            console.warn(\"Give Camera Access to use this feature\");\n            ImagePicker.requestMediaLibraryPermissionsAsync(true);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(Login, {\n    Title: \"Create Product\",\n    loginUser: CreateProduct,\n    Images: Images,\n    navigation: props.navigation,\n    ChooseImage: function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", pickImage());\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    },\n    children: [_jsx(TextInput, {\n      placeholder: \"Name\",\n      placeholderTextColor: \"#808e9b\",\n      style: styles.input,\n      autoCorrect: true,\n      keyboardType: \"default\",\n      textContentType: \"name\",\n      bind: Product.Name,\n      Value: Product.Name,\n      onChangeText: function onChangeText(e) {\n        return handleProduct('Name', e);\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Quantity\",\n      placeholderTextColor: \"#808e9b\",\n      style: styles.input,\n      autoCorrect: true,\n      keyboardType: \"number-pad\",\n      bind: Product.Quantity,\n      value: Product.Quantity,\n      onChangeText: function onChangeText(e) {\n        return handleProduct('Quantity', e.replace(/[^0-9]/g, ''));\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Price\",\n      placeholderTextColor: \"#808e9b\",\n      style: styles.input,\n      autoCorrect: true,\n      keyboardType: \"number-pad\",\n      bind: Product.Price,\n      value: Product.Price,\n      onChangeText: function onChangeText(e) {\n        return handleProduct('Price', e.replace(/[^0-9]/g, ''));\n      }\n    }), _jsx(Dropdown, {\n      data: Catagories,\n      onValueChange: function onValueChange(e) {\n        return handleProduct('catagoryId', e);\n      },\n      style: styles.input,\n      label: 'Select Catagory'\n    }), Images.length < 6 && _jsx(TouchableOpacity, {\n      style: styles.input,\n      onPress: pickImage.bind(_this),\n      children: _jsx(Text, {\n        style: [styles.fpText, {\n          alignSelf: 'center'\n        }],\n        children: \"Choose Image\"\n      })\n    }), Images.length > 0 && _jsx(View, {\n      style: styles.imageContainer,\n      children: _jsx(FlatList, {\n        numColumns: 3,\n        keyExtractor: function keyExtractor(item, index) {\n          return index;\n        },\n        data: Images,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return _jsxs(View, {\n            style: {\n              flex: 1\n            },\n            children: [_jsx(ImageBackground, {\n              style: styles.Image,\n              source: {\n                uri: item.uri\n              },\n              children: _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  return SetImages(function (x) {\n                    return x.filter(function (x) {\n                      return x.uri != item.uri;\n                    });\n                  });\n                },\n                children: _jsx(AntDesign, {\n                  name: \"closecircle\",\n                  size: 30,\n                  color: \"red\"\n                })\n              })\n            }), _jsx(Image, {}), console.log(item)]\n          });\n        }\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  input: {\n    width: '100%',\n    height: 50,\n    backgroundColor: '#333',\n    borderRadius: 6,\n    marginTop: 10,\n    paddingHorizontal: 10,\n    fontSize: 16,\n    color: '#808e9b'\n  },\n  fpText: {\n    color: '#B33771',\n    fontSize: 20,\n    fontWeight: '900',\n    marginTop: 10\n  },\n  imageContainer: {\n    width: '100%',\n    backgroundColor: '#333',\n    borderRadius: 6,\n    marginTop: 10,\n    paddingHorizontal: 10\n  },\n  Image: {\n    width: 100,\n    height: 100,\n    alignSelf: 'center',\n    marginVertical: 10,\n    borderRadius: 10\n  }\n});\nexport default SignUpScreen;","map":{"version":3,"sources":["D:/FYP/FYPNativeStuff/App/Archive/Screens/CreateProduct.js"],"names":["React","uuid","SelectDropdown","AppLoading","AntDesign","ImagePicker","Login","product","Constants","Dropdown","GlobalMethods","SignUpScreen","props","useState","Product","SetProduct","Images","SetImages","Catagories","setCatagories","loaded","setLoaded","useCameraPermissions","status","requestPermission","countries","handleProduct","name","value","prevState","ValueChecker","val","length","CreateProduct","createrId","route","params","Alert","alert","Name","Price","catagoryId","Quantity","data","JSON","stringify","id","v4","price","quantity","picture","images","options","method","body","headers","fetch","addProduct","then","x","text","navigation","navigate","catch","error","console","log","GetAllCats","warn","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","base64","allowsEditing","aspect","quality","result","cancelled","includes","uri","title","requestMediaLibraryPermissionsAsync","styles","input","e","replace","bind","fpText","alignSelf","imageContainer","item","index","flex","Image","filter","StyleSheet","create","width","height","backgroundColor","borderRadius","marginTop","paddingHorizontal","fontSize","color","fontWeight","marginVertical"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { View, Image, Text, TextInput, ImageBackground, Alert, StatusBar, TouchableOpacity, StyleSheet, FlatList } from 'react-native';\r\nimport uuid from 'react-native-uuid';\r\nimport SelectDropdown from 'react-native-select-dropdown'\r\nimport AppLoading from 'expo-app-loading';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport Login from '../Components/Login';\r\nimport product from '../Models/product';\r\nimport Constants from '../Models/Constants';\r\nimport Dropdown from '../Components/Dropdown';\r\nimport GlobalMethods from '../Models/GlobalMethods';\r\n\r\n\r\n\r\n\r\nconst SignUpScreen = (props) => {\r\n\r\n  const [Product, SetProduct] = React.useState([]);\r\n  const [Images, SetImages] = React.useState([]);\r\n  const [Catagories, setCatagories] = React.useState([]);\r\n  const [loaded, setLoaded] = React.useState(false);\r\n  const [status, requestPermission] = ImagePicker.useCameraPermissions();\r\n  const countries = [\"Egypt\", \"Canada\", \"Australia\", \"Ireland\"]\r\n  const handleProduct = (name, value) => {\r\n    const Catagories = [];\r\n    // console.log(name+\": \"+value);\r\n    SetProduct(prevState => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n  const ValueChecker = (val) => val.length > 0\r\n  // const CreateProduct = () => {\r\n  //   console.log(Product);\r\n  //   console.log(Images);\r\n  // }\r\n  const CreateProduct = () => {\r\n    let product = Product;\r\n    product.createrId = props.route.params['userId'];\r\n     \r\n    if (Images === null) {\r\n      Alert.alert(\"Please Choose images \");\r\n      alert(\"Please Choose images \");\r\n\r\n    }\r\n    else if (ValueChecker(product.Name) && ValueChecker(product.Price) &&\r\n      ValueChecker(product.catagoryId) && ValueChecker(product.Quantity)\r\n    ) {\r\n\r\n\r\n      let data = JSON.stringify({\r\n        id: uuid.v4(),\r\n        name: product.Name,\r\n        price: product.Price,\r\n        quantity: product.Quantity,\r\n        catagoryId: product.catagoryId,\r\n        createrId: product.createrId,\r\n        picture: 'picture',\r\n        images:  Images,\r\n        \r\n      });\r\n      let options = {\r\n        method: 'POST',\r\n        body: data,\r\n        headers: {\r\n          // Accept: 'application/json',\r\n          // 'Content-Type': 'multipart/form-data',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer e3fff09e-576b-4a08-8529-e88efd8eb5d5',\r\n        },\r\n      };\r\n\r\n      fetch(Constants.addProduct, options).then(x => x.text())\r\n        .then(x => {\r\n          if (x == \"Done\") {\r\n            Alert.alert('Created', 'Product Created');\r\n            // alert('Logined');\r\n            props.navigation.navigate('Profile');\r\n          }\r\n          else {\r\n            Alert.alert('Failed', 'Product Creation Failed');\r\n            // alert('Failed');\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error);\r\n          // throw error;\r\n        });\r\n    }\r\n    else {\r\n      Alert.alert(\"Please fill all fields\");\r\n      // console.log(\"Please fill all fields\");\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n  if (!loaded) {\r\n    return (\r\n      <AppLoading\r\n        startAsync={async () => {\r\n          let data = await GlobalMethods.GetAllCats();\r\n          console.log(data);\r\n          setCatagories(data);\r\n        }}\r\n        onFinish={() => setLoaded(true)}\r\n        onError={console.warn}\r\n      />\r\n    );\r\n  }\r\n  const pickImage = async () => {\r\n    if (status) {\r\n      let result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        base64: true,\r\n        allowsEditing: true,\r\n        aspect: [2, 2],\r\n        quality: 1,\r\n      });\r\n\r\n      if (!result.cancelled) {\r\n        // SetProfileTitle(result.title);\r\n        if (!Images.includes(result.uri)) {\r\n\r\n          SetImages(x => [...x,{uri: result.uri,title:'.jpg'}]);\r\n        }\r\n        else {\r\n          alert(\"Cant Take Same images twice\");\r\n        }\r\n      }\r\n    }\r\n\r\n    else {\r\n      console.warn(\"Give Camera Access to use this feature\");\r\n      ImagePicker.requestMediaLibraryPermissionsAsync(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Login Title=\"Create Product\" loginUser={CreateProduct} Images={Images} navigation={props.navigation} ChooseImage={async () => pickImage()} >\r\n      <TextInput\r\n        placeholder=\"Name\"\r\n        placeholderTextColor=\"#808e9b\"\r\n        style={styles.input}\r\n        autoCorrect={true}\r\n        // autoCapitalize={false}\r\n        // autoCompleteType=\"name\"\r\n        keyboardType=\"default\"\r\n        textContentType=\"name\"\r\n        bind={Product.Name}\r\n        Value={Product.Name}\r\n        onChangeText={(e) => handleProduct('Name', e)}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Quantity\"\r\n        placeholderTextColor=\"#808e9b\"\r\n        style={styles.input}\r\n        autoCorrect={true}\r\n        // autoCapitalize={false}\r\n        // autoCompleteType=\"number\"\r\n        keyboardType=\"number-pad\"\r\n        bind={Product.Quantity}\r\n        value={Product.Quantity}\r\n        onChangeText={(e) => handleProduct('Quantity', e.replace(/[^0-9]/g, ''))}\r\n      />\r\n      <TextInput\r\n        placeholder=\"Price\"\r\n        placeholderTextColor=\"#808e9b\"\r\n        style={styles.input}\r\n        autoCorrect={true}\r\n        // autoCapitalize={false}\r\n        // autoCompleteType=\"number\"\r\n        keyboardType=\"number-pad\"\r\n        bind={Product.Price}\r\n        value={Product.Price}\r\n        onChangeText={(e) => handleProduct('Price', e.replace(/[^0-9]/g, ''))}\r\n      />\r\n      <Dropdown data={Catagories} onValueChange={e => handleProduct('catagoryId', e)} style={styles.input} label={'Select Catagory'} />\r\n\r\n      {(Images.length < 6) &&\r\n        <TouchableOpacity\r\n          style={styles.input}\r\n          // disabled={(Images.length>=3)}\r\n          onPress={pickImage.bind(this)}>\r\n          <Text style={[styles.fpText, { alignSelf: 'center', }]}>\r\n            Choose Image\r\n          </Text>\r\n        </TouchableOpacity>\r\n\r\n      }\r\n\r\n      {Images.length > 0 &&\r\n\r\n        <View style={styles.imageContainer}>\r\n          <FlatList numColumns={3} keyExtractor={(item, index) => index} data={Images} renderItem={({ item, index }) => (\r\n            <View style={{ flex: 1, }}>\r\n              <ImageBackground style={styles.Image}\r\n                source={{ uri: item.uri }}>\r\n                <TouchableOpacity \r\n                onPress={() => SetImages(x=>x.filter(x=>x.uri !=item.uri))}>\r\n                  <AntDesign name=\"closecircle\" size={30} color=\"red\" />\r\n                </TouchableOpacity>\r\n              </ImageBackground>\r\n              <Image\r\n\r\n              />\r\n              {console.log(item)}\r\n            </View>\r\n          )} />\r\n        </View>\r\n      }\r\n    </Login>\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n  input: {\r\n    width: '100%',\r\n    height: 50,\r\n    backgroundColor: '#333',\r\n    borderRadius: 6,\r\n    marginTop: 10,\r\n    paddingHorizontal: 10,\r\n    fontSize: 16,\r\n    color: '#808e9b',\r\n  },\r\n  fpText: {\r\n\r\n    color: '#B33771',\r\n    fontSize: 20,\r\n    fontWeight: '900',\r\n    marginTop: 10,\r\n  },\r\n  imageContainer: {\r\n    width: '100%',\r\n    // height: 50,\r\n\r\n    backgroundColor: '#333',\r\n    borderRadius: 6,\r\n    marginTop: 10,\r\n    paddingHorizontal: 10,\r\n    // fontSize: 16,\r\n    // color: '#808e9b',\r\n  },\r\n  Image: {\r\n    width: 100,\r\n    height: 100,\r\n    alignSelf: 'center',\r\n    marginVertical: 10,\r\n    borderRadius: 10,\r\n    // borderWidth: 2,\r\n    // borderColor: '#fff',\r\n  },\r\n});\r\n\r\nexport default SignUpScreen;"]},"metadata":{},"sourceType":"module"}